
mode: "managed"
account:
  address: "0x49e0fd3800C117357057534E30c5B5115C673488"
  salt: 13
  # deployer address: 0x5Bd8e1E7B8436100BD93da2bb1d7b3Be72Cd388f

exports:
  "TokenFaucet": "create:1" # 0x746789E5B988e9dA56552fe6dE6eC671C01A2336

steps:
  - # deploy TokenFaucetProxy
    # create nonce: 1
    action: "create"
    bytecode: "608060405234801561001057600080fd5b50600080546001600160a01b031916331790556101bc806100326000396000f3fe60806040526004361061002d5760003560e01c80633659cfe6146100445780635c60da1b146100645761003c565b3661003c5761003a610090565b005b61003a610090565b34801561005057600080fd5b5061003a61005f366004610156565b6100f7565b34801561007057600080fd5b50600154604080516001600160a01b039092168252519081900360200190f35b6001546001600160a01b03166100e05760405162461bcd60e51b815260206004820152601160248201527037379034b6b83632b6b2b73a30ba34b7b760791b604482015260640160405180910390fd5b6001546100f5906001600160a01b0316610132565b565b6000546001600160a01b0316330361012757600180546001600160a01b0319166001600160a01b03831617905550565b61012f610090565b50565b3660008037600080366000845af43d6000803e808015610151573d6000f35b3d6000fd5b60006020828403121561016857600080fd5b81356001600160a01b038116811461017f57600080fd5b939250505056fea2646970667358221220c4efcdb8839139d0136106d52697294d10830a4b18bddfbce7fb1f734040dfb964736f6c63430008110033"
  - # deploy TokenFaucet
    # create nonce: 2
    action: "create"
    bytecode: "608060405234801561001057600080fd5b506108c2806100206000396000f3fe60806040526004361061003f5760003560e01c80631c11fce2146100445780631eb25e0a14610059578063449e815d1461007957806396dfe5de146100ab575b600080fd5b6100576100523660046105eb565b6100cb565b005b34801561006557600080fd5b50610057610074366004610615565b6102f3565b34801561008557600080fd5b506100996100943660046105eb565b610340565b60405190815260200160405180910390f35b3480156100b757600080fd5b506100576100c636600461062e565b610498565b6040516370a0823160e01b81523060048201526000906001600160a01b038416906370a0823190602401602060405180830381865afa158015610112573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061013691906106b5565b90508082111561018d5760405162461bcd60e51b815260206004820152601d60248201527f616d6f756e742065786365656473206661756365742062616c616e636500000060448201526064015b60405180910390fd5b60006101998484610340565b9050803410156101e45760405162461bcd60e51b81526020600482015260166024820152757061796d656e7420616d6f756e7420746f6f206c6f7760501b6044820152606401610184565b60405163a9059cbb60e01b8152336004820152602481018490526001600160a01b0385169063a9059cbb90604401600060405180830381600087803b15801561022c57600080fd5b505af1158015610240573d6000803e3d6000fd5b505050506000813461025291906106e4565b905080156102ec57604051600090339083908381818185875af1925050503d806000811461029c576040519150601f19603f3d011682016040523d82523d6000602084013e6102a1565b606091505b50509050806102ea5760405162461bcd60e51b815260206004820152601560248201527419985a5b1959081d1bc81cd95b99081c99599d5b99605a1b6044820152606401610184565b505b5050505050565b6000546001600160a01b0316331461033b5760405162461bcd60e51b815260206004820152600b60248201526a3737ba1036b0b730b3b2b960a91b6044820152606401610184565b600255565b600254600090806103855760405162461bcd60e51b815260206004820152600f60248201526e18985cd9599959481b9bdd081cd95d608a1b6044820152606401610184565b6000846001600160a01b031663313ce5676040518163ffffffff1660e01b8152600401602060405180830381865afa9250505080156103e1575060408051601f3d908101601f191682019092526103de918101906106f7565b60015b6103ed575060006103f0565b90505b600060ff82161561048057600061040883600a610805565b9050808410801561042257506000610420858361082a565b115b15610463576000610433858361082a565b90506000610441828961083e565b905080156104605761045381836106e4565b61045d9089610852565b97505b50505b8061046e8588610865565b610478919061082a565b91505061048d565b61048a8386610865565b90505b925050505b92915050565b6000546001600160a01b031633146104e05760405162461bcd60e51b815260206004820152600b60248201526a3737ba1036b0b730b3b2b960a91b6044820152606401610184565b47838110156105315760405162461bcd60e51b815260206004820152601d60248201527f616d6f756e7420657863656564732077616c6c65742062616c616e63650000006044820152606401610184565b6000856001600160a01b031685858560405161054e92919061087c565b60006040518083038185875af1925050503d806000811461058b576040519150601f19603f3d011682016040523d82523d6000602084013e610590565b606091505b50509050806102ea5760405162461bcd60e51b815260206004820152600b60248201526a18d85b1b0819985a5b195960aa1b6044820152606401610184565b80356001600160a01b03811681146105e657600080fd5b919050565b600080604083850312156105fe57600080fd5b610607836105cf565b946020939093013593505050565b60006020828403121561062757600080fd5b5035919050565b6000806000806060858703121561064457600080fd5b61064d856105cf565b935060208501359250604085013567ffffffffffffffff8082111561067157600080fd5b818701915087601f83011261068557600080fd5b81358181111561069457600080fd5b8860208285010111156106a657600080fd5b95989497505060200194505050565b6000602082840312156106c757600080fd5b5051919050565b634e487b7160e01b600052601160045260246000fd5b81810381811115610492576104926106ce565b60006020828403121561070957600080fd5b815160ff8116811461071a57600080fd5b9392505050565b600181815b8085111561075c578160001904821115610742576107426106ce565b8085161561074f57918102915b93841c9390800290610726565b509250929050565b60008261077357506001610492565b8161078057506000610492565b816001811461079657600281146107a0576107bc565b6001915050610492565b60ff8411156107b1576107b16106ce565b50506001821b610492565b5060208310610133831016604e8410600b84101617156107df575081810a610492565b6107e98383610721565b80600019048211156107fd576107fd6106ce565b029392505050565b600061071a60ff841683610764565b634e487b7160e01b600052601260045260246000fd5b60008261083957610839610814565b500490565b60008261084d5761084d610814565b500690565b80820180821115610492576104926106ce565b8082028115828204841417610492576104926106ce565b818382376000910190815291905056fea2646970667358221220d3673be797e3d08b42f19818dbceb9e4556b4e5678c10b83b2ed6adb942f04cb64736f6c63430008110033"
  - # set implementation address
    action: "call"
    address: "0x746789E5B988e9dA56552fe6dE6eC671C01A2336"
    amount: 0
    data: "0x3659cfe60000000000000000000000008aa6db19d2658bce0a3937d5cd7f6b19d9ccee16"
  - # configure baseFee (0.01ETH/Token)
    action: "call"
    address: "0x746789E5B988e9dA56552fe6dE6eC671C01A2336"
    amount: 0
    data: "0x1eb25e0a000000000000000000000000000000000000000000000000002386f26fc10000"

code-verify:
  "0x746789E5B988e9dA56552fe6dE6eC671C01A2336": # TokenFaucetProxy
    input: "code-input-01.json"
    compiler: "v0.8.17+commit.8df45f5f"
    contract: "TokenFaucetProxy"
  "0x8aA6Db19d2658Bce0a3937D5Cd7F6b19d9CCeE16": # TokenFaucet
    input: "code-input-02.json"
    compiler: "v0.8.17+commit.8df45f5f"
    contract: "TokenFaucet"
